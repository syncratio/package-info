(function(e){function t(t){for(var r,s,i=t[0],u=t[1],c=t[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var u=a[i];0!==n[u]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/package-info/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1860:function(e,t,a){"use strict";a("f097")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1),a("v-footer",{attrs:{padless:"",app:"",absolute:"",color:"blue-grey lighten-5"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("span",{staticClass:"text-overline"},[e._v("Vladimir Ganzenko")]),a("v-btn",{attrs:{small:"",fab:"",icon:"",href:"https://github.com/syncratio",target:"_blank"}},[a("v-icon",[e._v(" mdi-github ")])],1)],1)],1)],1)},o=[],s={name:"App",data:function(){return{}}},i=s,u=a("2877"),c=a("6544"),l=a.n(c),p=a("7496"),d=a("8336"),v=a("62ad"),g=a("553a"),f=a("132d"),h=a("f6c4"),m=Object(u["a"])(i,n,o,!1,null,null,null),b=m.exports;l()(m,{VApp:p["a"],VBtn:d["a"],VCol:v["a"],VFooter:g["a"],VIcon:f["a"],VMain:h["a"]});var k=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"package-search-page"},[a("v-data-table",{staticClass:"row-pointer",attrs:{items:e.packages,headers:e.headers,page:e.page,"server-items-length":e.totalItems,"items-per-page":10,"footer-props":{"disable-items-per-page":!0,"disable-pagination":e.isQuerying},"disable-sort":!0,loading:e.isQuerying,"item-key":"name","no-data-text":"No items to show, try using search."},on:{"update:page":e.pageChanged,"click:row":e.rowSelected}},[a("template",{slot:"top"},[a("v-toolbar",{attrs:{height:"80px"}},[a("v-container",{staticClass:"toolbar-row"},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.searchSubmitted.apply(null,arguments)}}},[a("v-text-field",{attrs:{"hide-details":!0,filled:"",clearable:"","full-width":!0,label:"Search packages","prepend-inner-icon":"mdi-magnify"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1)],1)],1)],2),a("router-view")],1)},w=[],x=a("1da1"),_=(a("b0c0"),a("96cf"),a("2f62")),j={data:function(){return{query:"",headers:[{text:"Name",value:"name"},{text:"Author",value:"author"},{text:"Version",value:"version"}],page:1,isQuerying:!1}},methods:{searchSubmitted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page=1,e.isQuerying=!0,t.next=4,e.$store.dispatch("fetchPackages",{page:a,query:e.query});case 4:e.isQuerying=!1;case 5:case"end":return t.stop()}}),t)})))()},pageChanged:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.page=e,t.isQuerying=!0,a.next=4,t.$store.dispatch("fetchPackages",{page:e,query:t.query});case 4:t.isQuerying=!1;case 5:case"end":return a.stop()}}),a)})))()},rowSelected:function(e){this.$router.push({name:"PackageDetails",params:{name:e.name}})}},computed:Object(_["b"])(["packages","totalItems"])},O=j,S=(a("8923"),a("a523")),V=a("8fea"),D=a("4bd4"),C=a("8654"),P=a("71d9"),R=Object(u["a"])(O,y,w,!1,null,"6f0e4d08",null),q=R.exports;l()(R,{VContainer:S["a"],VDataTable:V["a"],VForm:D["a"],VTextField:C["a"],VToolbar:P["a"]});var T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},on:{"click:outside":function(t){return e.$router.push({name:"PackageSearch"})}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("v-card",[a("v-skeleton-loader",{attrs:{loading:e.loading,type:"article",boilerplate:!0}},[a("v-card-title",{staticClass:"text-h4"},[e._v(e._s(e.name))]),a("v-card-subtitle",{staticClass:"text-subtitle-2"},[e.author?a("span",[e._v("by "+e._s(e.author))]):e._e(),e.version?a("span",[e._v("v."+e._s(e.version))]):e._e(),e.published?a("span",[e._v("published "+e._s(e.published))]):e._e()])],1),a("v-skeleton-loader",{attrs:{loading:e.loading,type:"image",boilerplate:!0}},[a("v-card-text",[a("v-row",{staticClass:"text-body-1 package-description"},[a("v-col",[e._v(e._s(e.description))])],1),e.usage.values.length?a("v-row",[a("v-col",[a("span",{staticClass:"text-subtitle-1 text-overline"},[e._v("Yearly downloads")]),a("v-sparkline",{attrs:{labels:e.usage.labels,value:e.usage.values,smooth:5,"auto-draw":!0,"label-size":10,color:"blue-grey"}})],1)],1):e._e()],1)],1)],1)],1)],1)},$=[],Q=a("3835"),A=(a("fb6a"),a("d81d"),a("b64b"),a("07ac"),a("a4d3"),a("e01a"),a("d3b7"),a("3ca3"),a("ddb0"),a("bc3a")),E=a.n(A),M={data:function(){return{name:this.$route.params.name,usageData:null,packageData:null,loading:!0}},methods:{loadUsageStats:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("https://data.jsdelivr.com/v1/package/npm/".concat(e.name,"/stats/date/year"));case 3:a=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return");case 10:return t.abrupt("return",a.data);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()},loadPackageDetails:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("https://registry.npmjs.org/-/v1/search",{params:{text:e.name,size:1}});case 3:o=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return");case 10:return t.abrupt("return",null===(a=o.data)||void 0===a||null===(r=a.objects)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.package);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},computed:{usage:function(){var e=[],t=[];if(this.usageData){var a={};for(var r in this.usageData.dates){var n=r.slice(0,-3);a[n]?a[n]+=this.usageData.dates[r].total:a[n]=this.usageData.dates[r].total}t=Object.keys(a).map((function(e){return new Date(e).toLocaleString("default",{month:"short"})})),e=Object.values(a)}return{values:e,labels:t}},author:function(){var e,t;return(null===(e=this.packageData)||void 0===e||null===(t=e.author)||void 0===t?void 0:t.name)||""},version:function(){var e;return(null===(e=this.packageData)||void 0===e?void 0:e.version)||""},published:function(){var e;return new Date(null===(e=this.packageData)||void 0===e?void 0:e.date).toLocaleString(void 0,{day:"numeric",month:"numeric",year:"numeric"})||""},description:function(){var e;return(null===(e=this.packageData)||void 0===e?void 0:e.description)||""}},created:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Promise.all([e.loadUsageStats(),e.loadPackageDetails()]);case 3:a=t.sent,r=Object(Q["a"])(a,2),e.usageData=r[0],e.packageData=r[1],e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}},z=M,I=(a("1860"),a("b0af")),F=a("99d9"),L=a("169a"),N=a("0fd9"),G=a("3129"),J=a("7f2e"),U=Object(u["a"])(z,T,$,!1,null,"5add8ede",null),B=U.exports;l()(U,{VCard:I["a"],VCardSubtitle:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:v["a"],VDialog:L["a"],VRow:N["a"],VSkeletonLoader:G["a"],VSparkline:J["a"]}),r["a"].use(k["a"]);var K=[{path:"/",name:"PackageSearch",component:q,children:[{path:"/package/:name",name:"PackageDetails",component:B}]}],Y=new k["a"]({mode:"history",base:"/package-info/",routes:K}),H=Y,W=a("ade3"),X=(a("a9e3"),"SET_PACKAGES"),Z={state:{packages:null},getters:{packages:function(e){var t;return(null===(t=e.packages)||void 0===t?void 0:t.objects.map((function(e){var t,a;return{name:e.package.name,version:e.package.version,author:(null===(t=e.package)||void 0===t||null===(a=t.author)||void 0===a?void 0:a.name)||""}})))||[]},totalItems:function(e){var t;return Number(null===(t=e.packages)||void 0===t?void 0:t.total)||0}},actions:{fetchPackages:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function a(){var r,n,o,s,i,u,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.page,o=void 0===n?1:n,s=t.query,i=10,u=(o-1)*i,c=s,a.prev=5,a.next=8,E.a.get("https://registry.npmjs.org/-/v1/search",{params:{text:c,size:i,from:u}});case 8:l=a.sent,a.next=15;break;case 11:return a.prev=11,a.t0=a["catch"](5),console.error(a.t0),a.abrupt("return");case 15:r(X,l.data);case 16:case"end":return a.stop()}}),a,null,[[5,11]])})))()}},mutations:Object(W["a"])({},X,(function(e,t){e.packages=t}))};r["a"].use(_["a"]);var ee=new _["a"].Store({state:{},mutations:{},actions:{},modules:{packages:Z}}),te=a("f309");r["a"].use(te["a"]);var ae=new te["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:H,store:ee,vuetify:ae,render:function(e){return e(b)}}).$mount("#app")},8923:function(e,t,a){"use strict";a("d7f8")},d7f8:function(e,t,a){},f097:function(e,t,a){}});
//# sourceMappingURL=app.5794db9e.js.map